log:
  level: DEBUG
  output: /var/log/heraldd/heraldd.log

plugin:
  - /usr/lib/heraldd/plugin/herald-gogshook/herald-gogshook.so

trigger:
  tick:
    interval: 10
  cron:
    cron: '* * * * *'

executor:
  local:
    work_dir: /var/lib/heraldd/work
  server1:
    type: http_remote
    host: http://localhost:8123
    secret: 'this_secret_must_be_the_same_as_exe_server'
    data_dir: /var/lib/heraldd/data
  server2:
    type: http_remote
    host: http://example.com:8123
    secret: 'this_secret_must_be_the_same_as_exe_server'
    data_dir: /var/lib/heraldd/data

router:
  run_command:
    trigger: cron
    selector: all
    job:
      ls: local
      uname: server1
      hostname: server2
  print_result:
    trigger: exe_done
    selector: match_map
    job:
      print_result: print
    match_key: output

job:
  ls:
    cmd: ls
    arg: '/'
  uname:
    cmd: uname
    arg: '-a'
  hostname:
    cmd: hostname
